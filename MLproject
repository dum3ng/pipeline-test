name: pipeline-test

components:
  build_data:
    cls: pipeline.build.BuildDataComponent
    description: build data component
    action_list:
      - action: build_data
        inputs: []
        config:
          a: float
        outputs: [data]
      - action: post_build_data
        inputs: [data]
        config: {}
        outputs: [post_data]

  process_data:
    cls: pipeline.process.ProcessDataComponent
    description: process data component
    action_list:
      - action: process_data
        inputs: [post_data]
        config:
          env: string
        outputs: [processed_data]

# 日志设置
logging:
  level: DEBUG
# 调试模式
debug: false

pipelines:
  default:
    steps:
      - name: build_data
        component: build_data
        action: build_data
        inputs: {}
        config: { a: 3.2 }
        outputs: [data]
      - name: post_build_data
        component: build_data
        action: post_build_data
        inputs:
          data: "{{ steps.build_data.outputs.data }}"
          outputs: [post_data]
      - name: process_data
        component: process_data
        action: process_data
        run: 0da2508c43194bd6b6edcccebf4721fc
